stage('Deploy Containers') {
            steps {
                script {
                    // Target EC2 instance details
                    def targetHost = '34.230.60.56'
                    def targetUser = 'ubuntu'
                    def privateKeyCredentialsId = 'ec2ssh'

                    // Commands to run on the target EC2 instance
                    def commands = '''
                        docker run -d -p 3000:3000 --name container1 sgiriprasad/hello-world:latest
                        docker run -d -p 5000:5000 --name container2 sgiriprasad/nicejob:latest
                    '''

                    // SSH into the target EC2 instance and run commands
                    sshCommand remote: "${targetUser}@${targetHost}",
                                credentialsId: "${privateKeyCredentialsId}",
                                command: "ssh -o StrictHostKeyChecking=no -i /var/lib/jenkins/.ssh/id_rsa '${commands}'"
                }
            }
}
